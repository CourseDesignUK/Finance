<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Finance</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.10.0/localforage.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-md p-6">
        <h1 class="text-2xl font-bold mb-4">ðŸ’° Local Tracker</h1>
        
        <div class="mb-4">
            <input id="desc" type="text" placeholder="Description" class="w-full border p-2 rounded mb-2">
            <input id="amt" type="number" placeholder="Amount" class="w-full border p-2 rounded mb-2">
            <button onclick="addEntry()" class="w-full bg-blue-500 text-white p-2 rounded">Add Entry</button>
        </div>

        <h2 class="font-semibold mb-2">History (Device Only)</h2>
        <ul id="list" class="divide-y"></ul>
    </div>

    <script>
        // Initialize Storage
        async function loadData() {
            const entries = await localforage.getItem('finance_data') || [];
            const list = document.getElementById('list');
            list.innerHTML = entries.map(e => `<li class="py-2 flex justify-between"><span>${e.desc}</span><b>$${e.amt}</b></li>`).join('');
        }

        async function addEntry() {
            const desc = document.getElementById('desc').value;
            const amt = document.getElementById('amt').value;
            if(!desc || !amt) return;

            const entries = await localforage.getItem('finance_data') || [];
            entries.push({ desc, amt, date: new Date() });
            await localforage.setItem('finance_data', entries);
            
            document.getElementById('desc').value = '';
            document.getElementById('amt').value = '';
            loadData();
        }

        loadData();
    </script>
</body>
</html>
